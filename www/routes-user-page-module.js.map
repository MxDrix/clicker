{"version":3,"sources":["webpack:///./src/app/components/form-newgame/form-newgame.component.html","webpack:///./src/app/components/form-newgame/form-newgame.component.ts","webpack:///./src/app/components/form-newgame/module.ts","webpack:///./src/app/routes/user-page/module.ts","webpack:///./src/app/routes/user-page/router.ts","webpack:///./src/app/routes/user-page/user-page.component.html","webpack:///./src/app/routes/user-page/user-page.component.ts"],"names":[],"mappings":"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","file":"routes-user-page-module.js","sourcesContent":["module.exports = \"<form autocomplete=\\\"off\\\" [formGroup]=\\\"form\\\">\\r\\n  <input name=\\\"nbClick\\\" formControlName=\\\"nbClick\\\" type=\\\"hidden\\\" [(ngModel)]=\\\"nbClick\\\" disabled />\\r\\n</form>\\r\\n\\r\\n<div class=\\\"wrapper\\\">\\r\\n  <div class=\\\"progress-bar\\\">\\r\\n    <span class=\\\"progress-bar-fill\\\" [ngStyle]=\\\"{'width': progressBar + '%'}\\\"><div [innerHTML]=\\\"time +'s'\\\"></div></span>\\r\\n  </div>\\r\\n</div>\"","/* \r\nImports & definition \r\n*/\r\n  // Imports\r\n  import { Component, OnInit, Input, Output, EventEmitter, OnChanges } from '@angular/core';\r\n  import { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n  import { Router } from '@angular/router';\r\n\r\n  // Inner\r\n  import { UserModel } from '../../models/user.model';\r\n  import { ClickerService } from '../../services/clicker/clicker-service.service';\r\n  import { UtilsService } from '../../services/utils/utils-service.service';\r\n\r\n  // Definition\r\n  @Component({\r\n    selector: 'app-form-newgame',\r\n    templateUrl: './form-newgame.component.html',\r\n    providers: [ ClickerService ]\r\n  })\r\n//\r\n\r\n\r\n/* Export */\r\n  export class FormNewGameComponent implements OnInit, OnChanges {\r\n\r\n    @Input() nbClick: number;\r\n    @Input() timer: number;\r\n    @Input() progressBar: number;\r\n    @Input() time: number;\r\n    /* \r\n    Config.\r\n    */\r\n      // Declaration\r\n      public form: FormGroup;\r\n      public formData: UserModel;\r\n      public passwordError: Boolean = false;\r\n\r\n      // Instanciation\r\n      constructor(\r\n        private FormBuilder: FormBuilder,\r\n        private ClickerService: ClickerService,\r\n        private Router: Router,\r\n        private UtilsService: UtilsService\r\n      ) { };\r\n    //\r\n\r\n\r\n    /* \r\n    Methods\r\n    */\r\n        private initForm = () => {\r\n          this.form = this.FormBuilder.group({\r\n            nbClick: [this.nbClick, Validators.required]\r\n          });\r\n        }\r\n    //\r\n\r\n    /* \r\n    Hooks\r\n    */\r\n      ngOnInit() {\r\n        this.initForm();\r\n      };\r\n\r\n      ngOnChanges(){\r\n        // Check if time is over. If yes, saved data in database and redirect to the score page\r\n        if (this.timer == 0) {\r\n          this.timer = 10000;\r\n          this.ClickerService.newClicker(this.form.value.nbClick)\r\n          .then(apiResponse => {\r\n            this.Router.navigate(['/score']);\r\n            this.UtilsService.flashMessage('success', '' + this.form.value.nbClick + ' clics !');\r\n          })\r\n          .catch(apiResponse => {\r\n\r\n          })\r\n        }\r\n      };\r\n    //\r\n  };\r\n//","/* \r\nImports \r\n*/\r\n    // Angular\r\n    import { NgModule } from '@angular/core';\r\n    import { HttpClientModule } from '@angular/common/http';\r\n    import { CommonModule } from '@angular/common';\r\n    import { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\n    // Inner\r\n    import { FormNewGameComponent } from \"./form-newgame.component\";\r\n// \r\n\r\n\r\n/* \r\nDefinition & export \r\n*/\r\n    @NgModule({\r\n        declarations: [ FormNewGameComponent ],\r\n        imports: [ \r\n            CommonModule, \r\n            HttpClientModule,\r\n            FormsModule, \r\n            ReactiveFormsModule\r\n        ],\r\n        exports: [ FormNewGameComponent ]\r\n    })\r\n\r\n    export class FormNewGameModule {};\r\n//","/* \r\nImports \r\n*/\r\n    // Angular\r\n    import { NgModule } from '@angular/core';\r\n    import { CommonModule } from '@angular/common';\r\n\r\n    // Inner\r\n    import { Routing } from './router';\r\n    import { UserPageComponent } from './user-page.component';\r\n    import { FormNewGameModule } from '../../components/form-newgame/module';\r\n//\r\n\r\n\r\n/* \r\nDefinition \r\n*/\r\n    @NgModule({\r\n        declarations: [ UserPageComponent ],\r\n        imports: [ \r\n            CommonModule, \r\n            Routing,\r\n            FormNewGameModule\r\n        ]\r\n    })\r\n//\r\n\r\n\r\n/* \r\nExport \r\n*/\r\n    export class Module {};\r\n//","/* \r\nImports \r\n*/\r\n    import { ModuleWithProviders } from '@angular/core';\r\n    import { Routes, RouterModule } from '@angular/router';\r\n    import { UserPageComponent } from './user-page.component';\r\n//\r\n\r\n\r\n/* \r\nDefinition \r\n*/\r\n    const route: Routes = [\r\n        {\r\n            path: '',\r\n            component: UserPageComponent\r\n        }\r\n    ];\r\n//\r\n\r\n\r\n/* \r\nExport \r\n*/\r\n    export const Routing: ModuleWithProviders = RouterModule.forChild(route);\r\n//","module.exports = \"<p class=\\\"italicFt12\\\">10s To Click !</p>\\r\\n\\r\\n<img #newGameEl \\r\\n  (click)=\\\"startNewGame(newGameEl)\\\" \\r\\n  src=\\\"../../../assets/images/push.png\\\" \\r\\n  [attr.data-status]=\\\"status\\\"\\r\\n  class=\\\"maxWidth100\\\"\\r\\n/>\\r\\n\\r\\n<app-form-newgame\\r\\n  [nbClick] = nbClick\\r\\n  [timer] = timer\\r\\n  [progressBar] = progressBar\\r\\n  [time] = time\\r\\n></app-form-newgame>\"","/* \r\nImports & definition \r\n*/\r\n  // Imports\r\n  import { Component, OnInit } from '@angular/core';\r\n\r\n  // Inner\r\n  import { UserModel } from '../../models/user.model';\r\n  import { ApiResponseModel } from \"../../models/api.reponse.model\";\r\n  import { AuthService } from \"../../services/auth/auth-service.service\";\r\n  import { UtilsService } from \"../../services/utils/utils-service.service\";\r\n\r\n  // Definition\r\n  @Component({\r\n    selector: 'app-user-page',\r\n    templateUrl: './user-page.component.html',\r\n    providers: [ AuthService, UtilsService ]\r\n  })\r\n//\r\n\r\n\r\n/* \r\nExport\r\n*/\r\n  export class UserPageComponent implements OnInit {\r\n\r\n    /* \r\n    Config.\r\n    */\r\n      // Module injection\r\n      constructor(\r\n        private AuthService: AuthService,\r\n        private UtilsService: UtilsService\r\n      ) {};\r\n    //\r\n\r\n    // Declare status game, score and timer\r\n    public status: Number = 0;\r\n    public nbClick: number = 0;\r\n    public timer: number = 10;\r\n    public progressBar: number = 0;\r\n    public time: number = 0;\r\n    public interval;\r\n\r\n    /*\r\n    Methods\r\n    */\r\n      public startNewGame = (element) => {\r\n        // Get the current status\r\n        this.status = element.getAttribute('data-status');\r\n\r\n        if (this.status == 0) {\r\n          // State => playing game\r\n          this.status = 1;\r\n          this.startTimer();\r\n        }\r\n\r\n        if (this.status == 1) {\r\n          // Increment your score\r\n          this.nbClick = this.nbClick + 1;\r\n        }\r\n\r\n      }\r\n\r\n      public startTimer = () => {\r\n        this.interval = setInterval(() => {\r\n          if(this.timer > 0) {\r\n            this.timer--;\r\n            this.progressBar = this.progressBar + 10;\r\n            this.time = this.time + 1;\r\n          } else {\r\n            this.timer = 10;\r\n          }\r\n        },1000);\r\n      }\r\n    //\r\n\r\n\r\n    /* \r\n    Hooks\r\n    */\r\n      ngOnInit() { \r\n        this.AuthService.getUserId().then( apiResponse => console.log(apiResponse.data._id) )\r\n      };\r\n    //\r\n  }\r\n//"],"sourceRoot":""}